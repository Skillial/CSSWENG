<div class="d-flex mt-4 mb-4 justify-content-between align-items-center">
    <!-- Search bar -->
    <div class="col-11 col-md-10">
        <div class="search-bar d-flex">
            <input type="text" class="form-control" placeholder="Search for ..." aria-label="Search" aria-describedby="button-addon2">
            <button class="btn btn-primary" type="button" id="button-addon2">Search</button>
        </div>
    </div>
    
    <!-- Add button -->
    <div class="d-flex align-items-center p-2">
        <div>
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#add<%=type%>">
                <i class='bx bx-plus'></i>
                <span class="d-none d-sm-inline">Add <%=type%></span>
            </button>
        </div>
    </div>
</div>

<%-include('addPartModal.ejs', {authority, partname: type}) %>
<%-include('editPopup.ejs', {partname: type}) %>

<div css="row">
    <% for (let i = 0; i < pageParts.length; i++) { %>
        <!-- Containers -->
        <div class="col-md-4" id = "<%=pageParts[i]._id%>">
            <div class="container container-style">
                <h5><%=type%> <%=pageParts[i].name%></h5>
                <% if (type !== "Sub-Projects") { %>
                    <div>
                        <i class='bx bxs-map'></i>
                        <span><%=pageParts[i].location%></span>
                    </div>
                 <% } %> <!-- added this since there is no location.-->
                <div class="container-bottom mt-4">
                    <div class="d-flex align-items-end">
                        <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#edit<%=type%>" data-bs-name="<%=pageParts[i].name%>" id="<%=pageParts[i]._id%>">Edit</button>
                        <script>
                            var editButton = document.getElementById("<%=pageParts[i]._id%>");
                            editButton.onclick = function() {
                                changeForm("<%=pageParts[i]._id%>","<%=type%>");
                            };
                        </script>
                        <button type="button" class="btn btn-danger btn-sm" data-bs-toggle="modal" data-bs-target="#deleteModal<%= i %>" id ="<%=pageParts[i]._id%>">Delete</button>
                    </div>

                    <div>
                        <span>Total Savings:</span>
                        <h3>P <%=pageParts[i].totalKaban%></h3>
                    </div>
                </div>
            </div>
        </div>
        <script>
            <% if (type == "cluster") { %>
                cardLink("project", "<%=pageParts[i]._id%>");
            <% } else if (type == "Sub-Projects") { %>
                cardLink("group", "<%=pageParts[i]._id%>");
            <% } %>
        </script>
    <% } %>
</div>